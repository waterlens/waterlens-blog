<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
  <link href="https://fonts.googleapis.com/css2?family=Oxygen:wght@400;700&amp;display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;700&amp;display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;700&amp;display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/hack-font@3/build/web/hack.css" rel="stylesheet">
  <link rel="stylesheet" href="/style.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" integrity="sha384-nB0miv6/jRmo5UMMR1wu3Gz6NLsoTkbqJghGIsx//Rlm+ZU03BU6SQNC66uf4l5+" crossorigin="anonymous">
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js" integrity="sha384-7zkQWkzuo3B5mTepMUcHkMB5jZaolc2xDwL6VFqjFALcbeS9Ggm/Yr2r3Dy4lfFg" crossorigin="anonymous"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js" integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script>
  <script type="module">
  import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs';
  mermaid.initialize({ startOnLoad: true });
  </script>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="generator" content="Asciidoctor 2.0.23 with Waterlens HTML Backend 0.1.0">
  <title>Adapton</title>
</head>
<body>
  <article>
    <header>
      <h1><a href=".">Adapton</a></h1>
    </header>
    <hr>
    <div id="content">
      <p>This post summarizes some content that I learned from <a href="https://xxx">Adapton</a>.</p>
      <div class="olist arabic">
        <div class="title">
          Two phase change propagation
        </div>
        <ol class="arabic">
          <li>
            <p>Dirtying</p>
          </li>
          <li>
            <p>Propagation</p>
          </li>
        </ol>
      </div>
      <div class="listing">
        <div class="title">
          Dirtying
        </div>
        <div class="content">
          <pre class="highlight"><code class="language-text" data-lang="text">function dirty(node)
  foreach edge ∈ node.incomingset do
    if not edge.dirty then
      edge.dirty = true;
      dirty(edge.source);</code></pre>
        </div>
      </div>
      <div class="listing">
        <div class="title">
          Propagation
        </div>
        <div class="content">
          <pre class="highlight"><code class="language-text" data-lang="text">function propagate(node)
  foreach edge ∈ node.outgoinglist do
  if edge.dirty then
    edge.dirty = false;
    if edge.target is athunk then
      propagate(edge.target);
    if edge.label != edge.target.value then
      node.outgoinglist = [];
      evaluate(node);
      return;</code></pre>
        </div>
      </div>
    </div>
    <hr>
    <footer>
      <p>The content on <a property="dct:title" rel="cc:attributionURL" href="/">this website</a> © 2021 - 2025 by <span property="cc:attributionName">Waterlens</span> is licensed under <a href="http://creativecommons.org/licenses/by-sa/4.0/?ref=chooser-v1" target="_blank" rel="license noopener noreferrer" style="display:inline-block;">CC BY-SA 4.0 <img alt="" style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1"> <img alt="" style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1"> <img alt="" style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/sa.svg?ref=chooser-v1"></a></p>
    </footer>
  </article>
</body>
</html>
